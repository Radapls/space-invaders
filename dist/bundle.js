(()=>{"use strict";const e=document.getElementById("canvas"),t=e.getContext("2d"),d={x:e.width/2,y:e.height-50,width:40,height:40,speed:5,image:new Image};d.image.src="https://cdn-icons-png.flaticon.com/512/1985/1985828.png";const h={x:d.x+d.width/2,y:d.y,radius:5,speed:10,destroyed:!0},i=[{x:100,y:100,width:50,height:50,destroyed:!1},{x:200,y:200,width:50,height:50,destroyed:!1},{x:300,y:300,width:50,height:50,destroyed:!1}];let o=0;function r(t){"left"===t?d.x-=d.speed:"right"===t&&(d.x+=d.speed),d.x<0?d.x=0:d.x>e.width-d.width&&(d.x=e.width-d.width)}fetch("https://api.github.com/repos/Radapls/radapls.github.io/commits").then((e=>e.json())).then((i=>{const r=i.map((()=>({x:Math.random()*e.width,y:Math.random()*e.height/2,width:12,height:12,destroyed:!1})));!function i(){t.clearRect(0,0,e.width,e.height),t.drawImage(d.image,d.x,d.y,d.width,d.height),r.forEach((d=>{d.destroyed||(t.beginPath(),t.rect(d.x,d.y,d.width,d.height),t.shadowBlur=20,t.lineWidth=15,t.fillStyle="#26a641",t.lineWidth=2,t.strokeStyle="white",t.fill(),t.closePath(),t.strokeRect(0,0,e.width,e.height))})),t.font="bold 20px Courier New",t.fontKerning,t.fillStyle="white",t.fillText("Score: "+o,8,20),h.destroyed||(t.beginPath(),t.arc(h.x,h.y,h.radius,0,2*Math.PI),t.fillStyle="blue",t.fill(),t.closePath()),r.forEach((t=>{t.destroyed||(t.y+=1,t.y>e.height&&(t.y=0,t.x=Math.random()*e.width))})),r.forEach((e=>{e.destroyed||d.x<e.x+e.width&&d.x+d.width>e.x&&d.y<e.y+e.height&&d.y+d.height>e.y&&(e.destroyed=!0,o++)})),h.destroyed||(h.y-=h.speed,h.y<0&&(h.destroyed=!0),r.forEach((e=>{e.destroyed||h.x>e.x&&h.x<e.x+e.width&&h.y>e.y&&h.y<e.y+e.height&&(e.destroyed=!0,h.destroyed=!0,o++)}))),s(),requestAnimationFrame(i)}()}));const y={left:!1,right:!1};function s(){requestAnimationFrame((function(){y.left&&r("left"),y.right&&r("right")}))}document.addEventListener("keydown",(e=>{"ArrowLeft"===e.code?y.left=!0:"ArrowRight"===e.code?y.right=!0:"Space"===e.code&&h.destroyed&&(h.destroyed=!1,h.x=d.x+d.width/2,h.y=d.y)})),document.addEventListener("keyup",(e=>{"ArrowLeft"===e.code?y.left=!1:"ArrowRight"===e.code?y.right=!1:"Space"===e.code&&h.destroyed&&(h.destroyed=!1,h.x=d.x+d.width/2,h.y=d.y)})),s(),document.getElementById("reset-button").addEventListener("click",(()=>{d.x=e.width/2,d.y=e.height-50,o=0,i.forEach((t=>{t.x=Math.random()*e.width,t.y=Math.random()*e.height/2,t.destroyed=!1})),h.x=d.x+d.width/2,h.y=d.y,h.destroyed=!1}))})();