(()=>{"use strict";const t=document.getElementById("canvas"),e=t.getContext("2d"),d={x:t.width/2,y:t.height-50,width:40,height:40,speed:5,image:new Image};d.image.src="https://cdn-icons-png.flaticon.com/512/1985/1985828.png";const h={x:d.x+d.width/2,y:d.y,radius:5,speed:10,destroyed:!0},i=[{x:100,y:100,width:50,height:50,destroyed:!1},{x:200,y:200,width:50,height:50,destroyed:!1},{x:300,y:300,width:50,height:50,destroyed:!1}];let o=0;function r(e){"left"===e?d.x-=d.speed:"right"===e&&(d.x+=d.speed),d.x<0?d.x=0:d.x>t.width-d.width&&(d.x=t.width-d.width)}fetch("https://api.github.com/repos/Radapls/radapls.github.io/commits").then((t=>t.json())).then((i=>{const r=i.map((()=>({x:Math.random()*t.width,y:Math.random()*t.height/2,width:12,height:12,destroyed:!1})));!function i(){e.clearRect(0,0,t.width,t.height),e.drawImage(d.image,d.x,d.y,d.width,d.height),r.forEach((d=>{d.destroyed||(e.beginPath(),e.rect(d.x,d.y,d.width,d.height),e.shadowBlur=20,e.lineWidth=15,e.fillStyle="#26a641",e.lineWidth=2,e.strokeStyle="white",e.fill(),e.closePath(),e.strokeRect(0,0,t.width,t.height))})),e.font="16px Montserrat",e.fillStyle="white",e.fillText("Score: "+o,8,20),h.destroyed||(e.beginPath(),e.arc(h.x,h.y,h.radius,0,2*Math.PI),e.fillStyle="blue",e.fill(),e.closePath()),r.forEach((e=>{e.destroyed||(e.y+=1,e.y>t.height&&(e.y=0,e.x=Math.random()*t.width))})),r.forEach((t=>{t.destroyed||d.x<t.x+t.width&&d.x+d.width>t.x&&d.y<t.y+t.height&&d.y+d.height>t.y&&(t.destroyed=!0,o++)})),h.destroyed||(h.y-=h.speed,h.y<0&&(h.destroyed=!0),r.forEach((t=>{t.destroyed||h.x>t.x&&h.x<t.x+t.width&&h.y>t.y&&h.y<t.y+t.height&&(t.destroyed=!0,h.destroyed=!0,o++)}))),s(),requestAnimationFrame(i)}()}));const y={left:!1,right:!1};function s(){requestAnimationFrame((function(){y.left&&r("left"),y.right&&r("right")}))}document.addEventListener("keydown",(t=>{"ArrowLeft"===t.code?y.left=!0:"ArrowRight"===t.code?y.right=!0:"Space"===t.code&&h.destroyed&&(h.destroyed=!1,h.x=d.x+d.width/2,h.y=d.y)})),document.addEventListener("keyup",(t=>{"ArrowLeft"===t.code?y.left=!1:"ArrowRight"===t.code?y.right=!1:"Space"===t.code&&h.destroyed&&(h.destroyed=!1,h.x=d.x+d.width/2,h.y=d.y)})),s(),document.getElementById("reset-button").addEventListener("click",(()=>{d.x=t.width/2,d.y=t.height-50,o=0,i.forEach((e=>{e.x=Math.random()*t.width,e.y=Math.random()*t.height/2,e.destroyed=!1})),h.x=d.x+d.width/2,h.y=d.y,h.destroyed=!1}))})();